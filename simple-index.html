<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Vietnam Holiday Planner</title>
    <script src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
    <style>
        .line-clamp-3 {
            display: -webkit-box;
            -webkit-line-clamp: 3;
            -webkit-box-orient: vertical;
            overflow: hidden;
        }
        body {
            background-color: #f9fafb;
            color: #1f2937;
        }
    </style>
</head>
<body>
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect } = React;

        // Data
        const destinations = [
            {
                "id": "hanoi",
                "name": "Hanoi",
                "region": "north",
                "coordinates": [21.0285, 105.8542],
                "description": "Vietnam's capital city with rich history, French colonial architecture, and incredible street food scene",
                "highlights": [
                    "Old Quarter with narrow streets and traditional shop houses",
                    "Train Street coffee experience",
                    "Water puppet shows",
                    "Imperial Citadel",
                    "Vietnamese Women's Museum",
                    "Bia Hoi Corner - famous beer street"
                ],
                "duration": "2-3 days",
                "bestTimeToVisit": "October-April (cool and dry)",
                "transportFromSaigon": "1.5 hour flight or 12-hour luxury train"
            },
            {
                "id": "ha-giang",
                "name": "Ha Giang",
                "region": "north",
                "coordinates": [22.8025, 104.9784],
                "description": "Mountainous province with UNESCO Geopark, home to 17 ethnic groups and the famous Ha Giang Loop",
                "highlights": [
                    "Ha Giang Loop - 3 day motorbike tour",
                    "Dong Van Karst Plateau UNESCO Geopark",
                    "Heaven's Gate viewpoint",
                    "Hmong King Palace",
                    "Lung Ho valley viewpoint",
                    "Traditional hemp textile villages"
                ],
                "duration": "3-4 days (including loop)",
                "bestTimeToVisit": "September-November, March-May",
                "transportFromHanoi": "8-hour luxury van ride"
            },
            {
                "id": "cat-ba-island",
                "name": "Cat Ba Island",
                "region": "north",
                "coordinates": [20.8167, 107.0500],
                "description": "Largest island in Lan Ha Bay, alternative to Ha Long Bay with fewer crowds",
                "highlights": [
                    "Cat Ba National Park",
                    "Cannon Fort viewpoint",
                    "Hang Quan Hospital Cave (Vietnam War site)",
                    "Dong Trung Trang Cave",
                    "Kayaking in Lan Ha Bay",
                    "Fresh seafood restaurants"
                ],
                "duration": "2-3 days",
                "bestTimeToVisit": "March-May, September-November",
                "transportFromHanoi": "3-hour bus + speedboat journey"
            },
            {
                "id": "hoi-an",
                "name": "Hoi An",
                "region": "central",
                "coordinates": [15.8801, 108.3380],
                "description": "UNESCO World Heritage ancient trading port famous for lanterns, tailors, and cuisine",
                "highlights": [
                    "Ancient Town with Japanese Covered Bridge",
                    "Full Moon Lantern Festival (monthly)",
                    "Custom tailor shops",
                    "Cooking classes and food tours",
                    "Basket boat tours in coconut forest",
                    "Night market along Thu Bon River"
                ],
                "duration": "2-3 days",
                "bestTimeToVisit": "February-August",
                "transportFromHue": "3.5-hour motorbike ride via Hai Van Pass"
            },
            {
                "id": "saigon",
                "name": "Ho Chi Minh City (Saigon)",
                "region": "south",
                "coordinates": [10.8231, 106.6297],
                "description": "Vietnam's largest city with French colonial architecture, vibrant nightlife, and diverse food scene",
                "highlights": [
                    "Ben Thanh Market",
                    "Notre-Dame Cathedral and Central Post Office",
                    "Reunification Palace",
                    "War Remnants Museum",
                    "Bui Vien backpacker district",
                    "Rooftop bars in District 1",
                    "Cu Chi Tunnels day trip"
                ],
                "duration": "2-3 days",
                "bestTimeToVisit": "December-April",
                "transportFromHanoi": "2-hour flight"
            }
        ];

        const restaurants = [
            {
                "id": "bun-cha-hang-quat",
                "name": "Bun Cha Hang Quat",
                "destinationId": "hanoi",
                "specialty": "Bun Cha (grilled pork with rice noodles)",
                "description": "Hidden alley stall frequented by locals. Family-run operation with lightning speed service. Assembly line cooking with fermented rice noodles, fresh herbs, grilled pork belly & meatballs, crispy crab spring rolls. Lunch only, closes at 2pm.",
                "priceRange": "$",
                "userRating": 5,
                "bourdainPick": true,
                "tags": ["local-favorite", "authentic", "lunch-only", "hidden-gem"]
            },
            {
                "id": "banh-mi-phuong",
                "name": "Banh Mi Phuong",
                "destinationId": "hoi-an",
                "specialty": "Banh Mi",
                "description": "Anthony Bourdain's favorite banh mi spot and the best one according to the itinerary",
                "priceRange": "$",
                "bourdainPick": true,
                "userRating": 5,
                "tags": ["banh-mi", "bourdain", "famous", "best"]
            }
        ];

        const regionColors = {
            north: '#10B981',
            central: '#F59E0B',
            south: '#EF4444'
        };

        // Components
        const DestinationCard = ({ destination, onSelect }) => (
            <div className="bg-white rounded-lg shadow-md hover:shadow-lg transition-shadow cursor-pointer border border-gray-200 p-6"
                 onClick={onSelect}>
                <div className="flex items-start justify-between mb-3">
                    <h3 className="text-xl font-bold text-gray-800">{destination.name}</h3>
                    <span
                        className="px-3 py-1 rounded-full text-xs font-medium text-white"
                        style={{backgroundColor: regionColors[destination.region]}}
                    >
                        {destination.region.toUpperCase()}
                    </span>
                </div>

                <p className="text-gray-600 text-sm mb-4 line-clamp-3">
                    {destination.description}
                </p>

                <div className="space-y-2">
                    <h4 className="font-semibold text-sm text-gray-700">Highlights:</h4>
                    <ul className="text-xs text-gray-600 space-y-1">
                        {destination.highlights.slice(0, 3).map((highlight, index) => (
                            <li key={index} className="flex items-start gap-2">
                                <span className="text-blue-500 mt-1">‚Ä¢</span>
                                <span>{highlight}</span>
                            </li>
                        ))}
                        {destination.highlights.length > 3 && (
                            <li className="text-blue-500 text-xs font-medium">
                                +{destination.highlights.length - 3} more highlights
                            </li>
                        )}
                    </ul>
                </div>

                <div className="mt-4 pt-4 border-t border-gray-100">
                    <div className="text-sm text-gray-500 mb-2">
                        üìÖ {destination.duration} ‚Ä¢ üå°Ô∏è {destination.bestTimeToVisit}
                    </div>
                    <button
                        className="w-full px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition-colors text-sm font-medium"
                    >
                        Explore Details
                    </button>
                </div>
            </div>
        );

        const VietnamMap = ({ destinations, onDestinationClick }) => {
            useEffect(() => {
                const map = L.map('map').setView([16.0, 106.0], 6);

                L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
                    attribution: '¬© OpenStreetMap contributors'
                }).addTo(map);

                destinations.forEach(destination => {
                    const marker = L.marker(destination.coordinates)
                        .addTo(map)
                        .bindPopup(`
                            <div class="text-center">
                                <h3 class="font-bold text-lg">${destination.name}</h3>
                                <p class="text-sm text-gray-600 mt-1">${destination.description}</p>
                                <div class="mt-2">
                                    <span class="inline-block px-2 py-1 rounded-full text-xs font-medium text-white"
                                          style="background-color: ${regionColors[destination.region]}">
                                        ${destination.region.toUpperCase()}
                                    </span>
                                </div>
                                <p class="text-xs text-gray-500 mt-2">üìÖ ${destination.duration}</p>
                            </div>
                        `);

                    marker.on('click', () => onDestinationClick(destination));
                });

                return () => {
                    map.remove();
                };
            }, [destinations]);

            return (
                <div>
                    <div className="mb-4 flex gap-4 text-sm">
                        <div className="flex items-center gap-2">
                            <div className="w-4 h-4 rounded-full bg-green-500"></div>
                            <span>North Vietnam</span>
                        </div>
                        <div className="flex items-center gap-2">
                            <div className="w-4 h-4 rounded-full bg-yellow-500"></div>
                            <span>Central Vietnam</span>
                        </div>
                        <div className="flex items-center gap-2">
                            <div className="w-4 h-4 rounded-full bg-red-500"></div>
                            <span>South Vietnam</span>
                        </div>
                    </div>
                    <div id="map" style={{ height: '500px', width: '100%' }} className="rounded-lg shadow-lg"></div>
                </div>
            );
        };

        const DestinationPage = ({ destination, onBack }) => (
            <div className="min-h-screen bg-gray-50">
                <div className="bg-white shadow-sm border-b border-gray-200">
                    <div className="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6">
                        <button
                            onClick={onBack}
                            className="flex items-center gap-2 text-blue-600 hover:text-blue-800 mb-4 transition-colors"
                        >
                            ‚Üê Back to Map
                        </button>

                        <h1 className="text-3xl font-bold text-gray-900 mb-2">{destination.name}</h1>
                        <p className="text-gray-600 text-lg mb-4">{destination.description}</p>

                        <div className="flex items-center gap-4 text-sm text-gray-500">
                            <span
                                className="px-3 py-1 rounded-full text-xs font-medium text-white"
                                style={{backgroundColor: regionColors[destination.region]}}
                            >
                                {destination.region.toUpperCase()} VIETNAM
                            </span>
                            <span>üìÖ {destination.duration}</span>
                            <span>üå°Ô∏è {destination.bestTimeToVisit}</span>
                            <span>üìç {destination.coordinates[0].toFixed(2)}, {destination.coordinates[1].toFixed(2)}</span>
                        </div>
                    </div>
                </div>

                <div className="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8">
                    <div className="bg-white rounded-lg shadow-sm border border-gray-200 p-6 mb-6">
                        <h2 className="text-xl font-semibold text-gray-900 mb-4">Highlights</h2>
                        <div className="grid grid-cols-1 md:grid-cols-2 gap-4">
                            {destination.highlights.map((highlight, index) => (
                                <div key={index} className="flex items-start gap-3 p-3 bg-gray-50 rounded-lg">
                                    <span className="text-blue-500 mt-1">‚Ä¢</span>
                                    <span className="text-gray-700">{highlight}</span>
                                </div>
                            ))}
                        </div>
                    </div>

                    <div className="bg-white rounded-lg shadow-sm border border-gray-200 p-6">
                        <h2 className="text-xl font-semibold text-gray-900 mb-4">Getting There</h2>
                        <div className="space-y-3">
                            {destination.transportFromHanoi && (
                                <div className="flex items-start gap-3">
                                    <span className="font-medium text-gray-700">From Hanoi:</span>
                                    <span className="text-gray-600">{destination.transportFromHanoi}</span>
                                </div>
                            )}
                            {destination.transportFromSaigon && (
                                <div className="flex items-start gap-3">
                                    <span className="font-medium text-gray-700">From Saigon:</span>
                                    <span className="text-gray-600">{destination.transportFromSaigon}</span>
                                </div>
                            )}
                        </div>
                    </div>

                    {/* Food Recommendations */}
                    <div className="bg-white rounded-lg shadow-sm border border-gray-200 p-6 mt-6">
                        <h2 className="text-xl font-semibold text-gray-900 mb-4">üçú Food Recommendations</h2>
                        {restaurants.filter(r => r.destinationId === destination.id).map(restaurant => (
                            <div key={restaurant.id} className="border-b border-gray-100 pb-4 mb-4 last:border-b-0">
                                <div className="flex items-start justify-between">
                                    <div>
                                        <h3 className="font-semibold text-lg flex items-center gap-2">
                                            {restaurant.name}
                                            {restaurant.bourdainPick && (
                                                <span className="bg-yellow-100 text-yellow-800 text-xs px-2 py-1 rounded-full">
                                                    Bourdain's Pick
                                                </span>
                                            )}
                                        </h3>
                                        <p className="text-blue-600 font-medium">{restaurant.specialty}</p>
                                    </div>
                                    <div className="text-right">
                                        <div className="text-lg font-bold text-green-600">{restaurant.priceRange}</div>
                                        {restaurant.userRating && (
                                            <div className="flex items-center gap-1">
                                                <span className="text-yellow-400">‚òÖ</span>
                                                <span className="text-sm">{restaurant.userRating}/5</span>
                                            </div>
                                        )}
                                    </div>
                                </div>
                                <p className="text-gray-700 mt-2">{restaurant.description}</p>
                                <div className="flex flex-wrap gap-2 mt-3">
                                    {restaurant.tags.map(tag => (
                                        <span key={tag} className="px-2 py-1 bg-gray-100 text-gray-600 text-xs rounded-full">
                                            {tag.replace('-', ' ')}
                                        </span>
                                    ))}
                                </div>
                            </div>
                        ))}
                    </div>
                </div>
            </div>
        );

        const HomePage = ({ destinations, onDestinationSelect }) => {
            const [viewMode, setViewMode] = useState('map');
            const [searchTerm, setSearchTerm] = useState('');
            const [selectedRegion, setSelectedRegion] = useState('all');

            const filteredDestinations = destinations.filter(destination => {
                const matchesSearch = destination.name.toLowerCase().includes(searchTerm.toLowerCase()) ||
                                     destination.description.toLowerCase().includes(searchTerm.toLowerCase());
                const matchesRegion = selectedRegion === 'all' || destination.region === selectedRegion;
                return matchesSearch && matchesRegion;
            });

            return (
                <div className="min-h-screen bg-gray-50">
                    <div className="bg-white shadow-sm border-b border-gray-200">
                        <div className="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6">
                            <h1 className="text-3xl font-bold text-gray-900 mb-2">Vietnam Holiday Planner</h1>
                            <p className="text-gray-600 mb-6">Discover the best destinations, food, and experiences in Vietnam</p>

                            <div className="flex flex-col sm:flex-row gap-4 mb-6">
                                <input
                                    type="text"
                                    placeholder="Search destinations..."
                                    value={searchTerm}
                                    onChange={(e) => setSearchTerm(e.target.value)}
                                    className="flex-1 px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"
                                />
                                <select
                                    value={selectedRegion}
                                    onChange={(e) => setSelectedRegion(e.target.value)}
                                    className="px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"
                                >
                                    <option value="all">All Regions</option>
                                    <option value="north">North Vietnam</option>
                                    <option value="central">Central Vietnam</option>
                                    <option value="south">South Vietnam</option>
                                </select>
                                <div className="flex bg-gray-100 rounded-lg p-1">
                                    <button
                                        onClick={() => setViewMode('map')}
                                        className={`px-3 py-2 rounded-md text-sm font-medium transition-colors ${
                                            viewMode === 'map' ? 'bg-white text-blue-600' : 'text-gray-600'
                                        }`}
                                    >
                                        üó∫Ô∏è Map
                                    </button>
                                    <button
                                        onClick={() => setViewMode('grid')}
                                        className={`px-3 py-2 rounded-md text-sm font-medium transition-colors ${
                                            viewMode === 'grid' ? 'bg-white text-blue-600' : 'text-gray-600'
                                        }`}
                                    >
                                        üìã Grid
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div className="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8">
                        {viewMode === 'map' ? (
                            <VietnamMap
                                destinations={filteredDestinations}
                                onDestinationClick={onDestinationSelect}
                            />
                        ) : (
                            <div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
                                {filteredDestinations.map((destination) => (
                                    <DestinationCard
                                        key={destination.id}
                                        destination={destination}
                                        onSelect={() => onDestinationSelect(destination)}
                                    />
                                ))}
                            </div>
                        )}
                    </div>
                </div>
            );
        };

        // Main App
        const App = () => {
            const [selectedDestination, setSelectedDestination] = useState(null);

            return selectedDestination ? (
                <DestinationPage
                    destination={selectedDestination}
                    onBack={() => setSelectedDestination(null)}
                />
            ) : (
                <HomePage
                    destinations={destinations}
                    onDestinationSelect={setSelectedDestination}
                />
            );
        };

        ReactDOM.render(<App />, document.getElementById('root'));
    </script>
</body>
</html>